def new_user(data, db):
	if(len(data) != 4):
       conn.send('Illegal Argument Exception: 4 arguments expected');

	c = db.cursor();
	email = data[1].strip();
	username = data[2].strip();
	password = data[3].strip();
	status = 0; #default status to online
	
	dbLock.acquire(true,);
	c.execute('insert into Users(Username, Password, Email, Status) values('+username+','+password+','+email+','+status+');');
	except IntegrityError as e:
		if 'Unique Constraint' in e.message:
			print('Username is already in use');
	dbLock.release();
    print("new_user called");
